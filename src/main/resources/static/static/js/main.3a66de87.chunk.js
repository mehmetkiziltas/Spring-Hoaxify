(this.webpackJsonphoaxify=this.webpackJsonphoaxify||[]).push([[0],{35:function(e,t,a){},55:function(e,t,a){},90:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(25),r=a.n(s),i=(a(55),a(35),a(2)),o=a.n(i),l=a(6),u=a(18),d=a(4),j=a(3),b=a(45),p=a(0),m=function(e){var t=e.label,a=e.error,n=e.name,c=e.onChange,s=e.type,r=e.defaultValue,i="form-control";return"file"===s&&(i+="-file"),void 0!==a&&(i+=" is-invalid"),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:t}),Object(p.jsx)("input",{className:i,name:n,onChange:c,type:s,defaultValue:r}),Object(p.jsx)("div",{className:"invalid-feedback",children:a})]})},h=function(e){var t=e.onClick,a=e.pendingApiCall,n=e.disabled,c=e.text,s=e.className;return Object(p.jsxs)("button",{className:s||"btn btn-primary",onClick:t,disabled:n,children:[a&&Object(p.jsx)("span",{className:"spinner-border spinner-border-sm"}),c]})},O=a(8),f=a.n(O),x=function(e,t,a){var c=Object(n.useState)(!1),s=Object(j.a)(c,2),r=s[0],i=s[1];return Object(n.useEffect)((function(){var n,c,s=function(n,c,s){n===e&&(a&&c===t||!a&&c.startsWith(t))&&i(s)};return n=f.a.interceptors.request.use((function(e){var t=e.url,a=e.method;return s(a,t,!0),e})),c=f.a.interceptors.response.use((function(e){var t=e.config,a=t.url,n=t.method;return s(n,a,!1),e}),(function(e){var t=e.config,a=t.url,n=t.method;throw s(n,a,!1),e})),function(){f.a.interceptors.request.eject(n),f.a.interceptors.response.eject(c)}}),[t,e,a]),r},v=a(9),g="logout-success",N="login-success",y="update-success",w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return f.a.get("/api/1.0/users?page=".concat(e,"&size=").concat(t))},k=function(e){var t=e.isLoggedIn,a=e.token;if(t){var n="Bearer ".concat(a);f.a.defaults.headers.Authorization=n}else delete f.a.defaults.headers.Authorization},C=function(e){return f.a.get("/api/1.0/users/".concat(e))},S=function(e,t){return f.a.put("/api/1.0/users/".concat(e),t)},L=function(e){return f.a.post("/api/1.0/hoaxes",e)},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=e?"/api/1.0/users/".concat(e,"/hoaxes?page="):"/api/1.0/hoaxes?page=";return f.a.get(a+t)},A=function(e,t){var a=t?"/api/1.0/users/".concat(t,"/hoaxes/").concat(e):"/api/1.0/hoaxes/".concat(e);return f.a.get(a)},D=function(e,t){var a=t?"/api/1.0/users/".concat(t,"/hoaxes/").concat(e,"?count=true"):"/api/1.0/hoaxes/".concat(e,"?count=true");return f.a.get(a)},P=function(e,t){var a=t?"/api/1.0/users/".concat(t,"/hoaxes/").concat(e,"?direction=after"):"/api/1.0/hoaxes/".concat(e,"?direction=after");return f.a.get(a)},F=function(e){return f.a.post("/api/1.0/hoax-attachments",e)},U=function(e){return f.a.delete("/api/1.0/hoaxes/".concat(e))},I=function(e){return f.a.delete("/api/1.0/users/".concat(e))},H=function(){return function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("/api/1.0/logout");case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:t({type:g});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},T=function(e){var t=e.displayName,a=e.image;return{type:y,payload:{displayName:t,image:a}}},z=function(e){return{type:N,payload:e}},M=function(e){return function(){var t=Object(l.a)(o.a.mark((function t(a){var n,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s=e,f.a.post("/api/1.0/auth",s);case 2:return n=t.sent,c=Object(d.a)(Object(d.a)({},n.data.user),{},{password:e.password,token:n.data.token}),a(z(c)),t.abrupt("return",n);case 6:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()},R=function(e){return function(){var t=Object(l.a)(o.a.mark((function t(a){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c=e,f.a.post("/api/1.0/users",c);case 2:return n=t.sent,t.next=5,a(M(e));case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}var c}),t)})));return function(e){return t.apply(this,arguments)}}()},_=function(e){var t,a=Object(n.useState)({username:null,displayName:null,password:null,passwordRepeat:null}),c=Object(j.a)(a,2),s=c[0],r=c[1],i=Object(n.useState)({}),O=Object(j.a)(i,2),f=O[0],g=O[1],N=Object(b.a)().t,y=Object(v.b)(),w=function(e){var t=e.target,a=t.name,n=t.value;g((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(u.a)({},a,void 0))})),r((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(u.a)({},a,n))}))},k=function(){var t=Object(l.a)(o.a.mark((function t(a){var n,c,r,i,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=e.history.push,c=s.username,r=s.displayName,i=s.password,l={username:c,displayName:r,password:i},t.prev=4,t.next=7,y(R(l));case 7:n("/"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),t.t0.response.data.validationErrors&&g(t.t0.response.data.validationErrors);case 13:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e){return t.apply(this,arguments)}}(),C=f.username,S=f.displayName,L=f.password,E=x("post","/api/1.0/users"),A=x("post","/api/1.0/auth"),D=E||A;return s.password!==s.passwordRepeat&&(t=N("Password mismatch")),Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("form",{children:[Object(p.jsx)("h1",{className:"text-center",children:N("Sign Up")}),Object(p.jsx)(m,{name:"username",label:N("Username"),error:C,onChange:w}),Object(p.jsx)(m,{name:"displayName",label:N("Display Name"),error:S,onChange:w}),Object(p.jsx)(m,{name:"password",label:N("Password"),error:L,onChange:w,type:"password"}),Object(p.jsx)(m,{name:"passwordRepeat",label:N("Password Repeat"),error:t,onChange:w,type:"password"}),Object(p.jsxs)("div",{className:"text-center",children:[Object(p.jsx)("br",{}),Object(p.jsx)(h,{onClick:k,disabled:D||void 0!==t,pendingApiCall:D,text:N("Sign Up")})]})]})})},B=function(e){var t=Object(n.useState)(),a=Object(j.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(),i=Object(j.a)(r,2),u=i[0],d=i[1],O=Object(v.b)(),f=Object(n.useState)(),g=Object(j.a)(f,2),N=g[0],y=g[1],w=e.history.push;Object(n.useEffect)((function(){y(void 0)}),[c,u]);var k=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={username:c,password:u},y(void 0),e.prev=3,e.next=6,O(M(a));case 6:w("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),y(e.t0.response.data.message);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),C=Object(b.a)().t,S=x("post","/api/1.0/auth"),L=c&&u;return Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("form",{children:[Object(p.jsx)("h1",{className:"text-center",children:C("Login")}),Object(p.jsx)(m,{label:C("Username"),onChange:function(e){return s(e.target.value)}}),Object(p.jsx)(m,{label:C("Password"),type:"password",onChange:function(e){return d(e.target.value)}}),N&&Object(p.jsx)("div",{className:"alert alert-danger",children:N}),Object(p.jsx)("div",{className:"text-center mt-2",children:Object(p.jsx)(h,{onClick:k,disabled:!L||S,pendingApiCall:S,text:C("Login")})})]})})},V=function(){var e=Object(b.a)().i18n,t=function(t){e.changeLanguage(t),function(e){f.a.defaults.headers["accept-language"]=e}(t)};return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("img",{src:"https://www.countryflags.io/tr/flat/24.png",alt:"Turkish Flag",onClick:function(){return t("tr")},style:{cursor:"pointer"}}),Object(p.jsx)("img",{src:"https://www.countryflags.io/us/flat/24.png",alt:"USA Flag",onClick:function(){return t("en")},style:{cursor:"pointer"}})]})},K=a(19),Y=a(7),W=a.p+"static/media/profile.06c30927.png",q=function(e){var t=e.image,a=e.tempimage,n=W;return t&&(n="images/profile/"+t),Object(p.jsx)("img",Object(d.a)(Object(d.a)({alt:"Profile",src:a||n},e),{},{onError:function(e){e.target.src=W}}))},G=a(13),J=a(28),X=function(e){var t=e.visible,a=e.onClickCancel,n=e.onClickOk,c=e.message,s=e.pendingApiCall,r=e.title,i=e.okButton,o=Object(b.a)().t,l="modal fade";return t&&(l+=" show d-block"),Object(p.jsx)("div",{className:l,style:{backgroundColor:"#000000b0"},children:Object(p.jsx)("div",{className:"modal-dialog",children:Object(p.jsxs)("div",{className:"modal-content",children:[Object(p.jsx)("div",{className:"modal-header",children:Object(p.jsx)("h5",{className:"modal-title",children:r})}),Object(p.jsx)("div",{className:"modal-body",children:c}),Object(p.jsxs)("div",{className:"modal-footer",children:[Object(p.jsx)("button",{type:"button",className:"btn btn-secondary",disabled:s,onClick:a,children:o("Cancel")}),Object(p.jsx)(h,{className:"btn btn-danger",onClick:n,pendingApiCall:s,disabled:s,text:i})]})]})})})},Q=function(e){var t=Object(v.c)((function(e){return e.username})),a=e.hoax,c=e.onDeleteHoax,s=a.userVM,r=a.content,i=a.timestamp,u=a.fileAttachmentVM,d=a.id,m=s.username,h=s.displayName,O=s.image,f=Object(b.a)(),g=f.i18n,N=f.t,y=Object(J.a)(i,g.language),w=Object(n.useState)(!1),k=Object(j.a)(w,2),C=k[0],S=k[1],L=t===m,E=x("delete","/api/1.0/hoaxes/".concat(d),!0),A=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(d);case 2:c(d);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"card p-1",children:[Object(p.jsxs)("div",{className:"d-flex",children:[Object(p.jsx)(q,{image:O,width:"32",height:"32",className:"rounded-circle m-1"}),Object(p.jsx)("div",{className:"flex-fill m-auto pl-2",children:Object(p.jsxs)(G.b,{to:"/user/".concat(m),className:"text-dark",children:[Object(p.jsxs)("h6",{className:"d-inline",children:[h," @ ",m]}),Object(p.jsx)("span",{children:" - "}),Object(p.jsx)("span",{children:y})]})}),L&&Object(p.jsx)("button",{className:"btn btn-delete-link btn-sm",onClick:function(){return S(!0)},children:Object(p.jsx)("i",{className:"material-icons",children:"delete_outline"})})]}),Object(p.jsx)("div",{className:"pl-5",children:r}),u&&Object(p.jsxs)("div",{className:"pl-5",children:[u.fileType.startsWith("image")&&Object(p.jsx)("img",{className:"img-fluid",src:"images/attachments/"+u.name,alt:r}),!u.fileType.startsWith("image")&&Object(p.jsx)("strong",{children:"Hoax has unknown attachment"})]})]}),Object(p.jsx)(X,{visible:C,title:N("Delete Hoax"),onClickCancel:function(){S(!1)},onClickOk:A,pendingApiCall:E,message:Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{children:Object(p.jsx)("strong",{children:N("Are you sure to delete hoax?")})}),Object(p.jsx)("span",{children:r})]}),okButton:N("Delete Hoax")})]})},Z=function(){var e=Object(b.a)().t;return Object(p.jsx)("div",{className:"d-flex justify-content-center",children:Object(p.jsx)("div",{className:"spinner-border text-black-50",children:Object(p.jsx)("span",{className:"sr-only",children:e("Loading...")})})})},$=function(){var e=Object(n.useState)({content:[],last:!0,number:0}),t=Object(j.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(0),r=Object(j.a)(s,2),i=r[0],u=r[1],m=Object(b.a)().t,h=Object(Y.h)().username,O=h?"/api/1.0/users/".concat(h,"/hoaxes?page="):"/api/1.0/hoaxes?page=",f=x("get",O),v=0,g=0;if(a.content.length>0){g=a.content[0].id;var N=a.content.length-1;v=a.content[N].id}var y=h?"/api/1.0/users/".concat(h,"/hoaxes/").concat(v):"/api/1.0/hoaxes/".concat(v),w=x("get",y,!0),k=h?"/api/1.0/users/".concat(h,"/hoaxes/").concat(g,"?direction=after"):"/api/1.0/hoaxes/".concat(g,"?direction=after"),C=x("get",k,!0);Object(n.useEffect)((function(){var e=setInterval(function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(g,h);case 2:t=e.sent,u(t.data.count);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),5e3);return function(){clearInterval(e)}}),[g,h]),Object(n.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(h,t);case 3:a=e.sent,c((function(e){return Object(d.a)(Object(d.a)({},a.data),{},{content:[].concat(Object(K.a)(e.content),Object(K.a)(a.data.content))})})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}})()()}),[h]);var S=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A(v,h);case 3:t=e.sent,c((function(e){return Object(d.a)(Object(d.a)({},t.data),{},{content:[].concat(Object(K.a)(e.content),Object(K.a)(t.data.content))})})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(g,h);case 3:t=e.sent,c((function(e){return Object(d.a)(Object(d.a)({},e),{},{content:[].concat(Object(K.a)(t.data),Object(K.a)(e.content))})})),u(0),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),F=function(e){c((function(t){return Object(d.a)(Object(d.a)({},t),{},{content:t.content.filter((function(t){return t.id!==e}))})}))},U=a.content,I=a.last;return 0===U.length?Object(p.jsx)("div",{className:"alet alert-secondary text-center mt-2",children:f?Object(p.jsx)(Z,{}):m("There are no hoaxes")}):Object(p.jsxs)("div",{children:[i>0&&Object(p.jsx)("div",{className:"alet alert-secondary text-center mb-2",onClick:C?function(){}:function(){return L()},style:{cursor:C?"not-allowed":"pointer"},children:C?Object(p.jsx)(Z,{}):m("There are new hoaxes")}),U.map((function(e){return Object(p.jsx)(Q,{hoax:e,onDeleteHoax:F},e.id)})),!I&&Object(p.jsx)("div",{className:"alet alert-secondary text-center mt-2",onClick:w?function(){}:function(){return S()},style:{cursor:w?"not-allowed":"pointer"},children:w?Object(p.jsx)(Z,{}):m("Load old hoaxes")})]})},ee=(a(90),function(e){var t=e.image,a=e.uploading,n=Object(b.a)().t;return Object(p.jsxs)("div",{style:{position:"relative"},children:[Object(p.jsx)("img",{className:"img-thumbnail",src:t,alt:"hoax-attachment"}),Object(p.jsx)("div",{className:"overlay",style:{opacity:a?1:0},children:Object(p.jsx)("div",{className:"d-flex justify-content-center h-100",children:Object(p.jsx)("div",{className:"spinner-border text-light m-auto",children:Object(p.jsx)("span",{className:"sr-only",children:n("Loading...")})})})})]})}),te=function(){var e=Object(v.c)((function(e){return{image:e.image}})).image,t=Object(n.useState)(!1),a=Object(j.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(""),i=Object(j.a)(r,2),u=i[0],d=i[1],O=Object(n.useState)({}),f=Object(j.a)(O,2),g=f[0],N=f[1],y=Object(b.a)().t,w=Object(n.useState)(),k=Object(j.a)(w,2),C=k[0],S=k[1],E=Object(n.useState)(),A=Object(j.a)(E,2),D=A[0],P=A[1];Object(n.useEffect)((function(){c||(d(""),N({}),S(),P())}),[c]),Object(n.useEffect)((function(){N({})}),[u]);var U=x("post","/api/1.0/hoaxes",!0),I=x("post","/api/1.0/hoax-attachments",!0),H=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={content:u,attachmentId:D},e.prev=1,e.next=4,L(t);case 4:s(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),e.t0.response.data.validationErrors&&N(e.t0.response.data.validationErrors);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t),e.next=4,F(a);case 4:n=e.sent,P(n.data.id);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z="form-control";return g.content&&(z+=" is-invalid"),Object(p.jsxs)("div",{className:"card p-1 flex-row",children:[Object(p.jsx)(q,{image:e,width:"32",height:"32",className:"rounded-circle mr-2"}),Object(p.jsxs)("div",{className:"flex-fill",children:[Object(p.jsx)("textarea",{className:z,rows:c?"3":"1",onFocus:function(){return s(!0)},onChange:function(e){return d(e.target.value)},value:u}),Object(p.jsx)("div",{className:"invalid-feedback",children:g.content}),c&&Object(p.jsxs)(p.Fragment,{children:[!C&&Object(p.jsx)(m,{type:"file",onChange:function(e){if(!(e.target.files.length<1)){var t=e.target.files[0],a=new FileReader;a.onloadend=function(){S(a.result),T(t)},a.readAsDataURL(t)}}}),C&&Object(p.jsx)(ee,{image:C,uploading:I}),Object(p.jsxs)("div",{className:"text-right mt-2",children:[Object(p.jsx)(h,{className:"btn btn-primary",onClick:H,text:y("Hoaxify"),pendingApiCall:U,disabled:U||I}),Object(p.jsxs)("button",{className:"btn btn-light d-inline-flex ml-1",onClick:function(){return s(!1)},disabled:U||I,children:[Object(p.jsx)("i",{className:"material-icons",children:"close"}),y("Cancel")]})]})]})]})]})},ae=a(93),ne=function(e){var t=e.user,a=t.username,n=t.displayName,c=t.image;return Object(p.jsxs)(G.b,{to:"/user/".concat(a),className:"list-group-item list-group-item-action",children:[Object(p.jsx)(q,{className:"rounded-circle",width:"32",height:"32",image:c,alt:"".concat(a," profile")}),Object(p.jsxs)("span",{className:"pl-3",children:[n," @",a]})]},a)},ce=Object(ae.a)()((function(){var e=Object(n.useState)({content:[],size:3,number:0}),t=Object(j.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),r=Object(j.a)(s,2),i=r[0],u=r[1],d=x("get","/api/1.0/users?page");Object(n.useEffect)((function(){m()}),[]);var m=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!1),e.prev=1,e.next=4,w(t);case 4:a=e.sent,c(a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),u(!0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),h=Object(b.a)().t,O=a.content,f=a.last,v=a.first,g=Object(p.jsxs)("div",{children:[!1===v&&Object(p.jsx)("button",{className:"btn btn-sm btn-light",onClick:function(){var e=a.number-1;m(e)},children:h("Previous")}),!1===f&&Object(p.jsx)("button",{className:"btn btn-sm btn-light float-right",onClick:function(){var e=a.number+1;m(e)},children:h("Next")})]});return d&&(g=Object(p.jsx)(Z,{})),Object(p.jsxs)("div",{className:"card",children:[Object(p.jsx)("h3",{className:"card-header text-center",children:h("Users")}),Object(p.jsx)("div",{className:"list-group-flush",children:O.map((function(e){return Object(p.jsx)(ne,{user:e},e.username)}))}),Object(p.jsxs)("div",{children:[g,i&&Object(p.jsx)("div",{className:"text-center text-danger",children:h("Load Failure")})]})]})})),se=function(){var e=Object(v.c)((function(e){return{isLoggedIn:e.isLoggedIn}})).isLoggedIn;return Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"col-6 col-md-8",children:[e&&Object(p.jsx)(te,{}),Object(p.jsx)($,{})]}),Object(p.jsx)("div",{className:"col-6 col-md-4",children:Object(p.jsx)(ce,{})})]})})},re=function(e){var t=Object(v.c)((function(e){return{username:e.username}})).username,a=Object(n.useState)({}),c=Object(j.a)(a,2),s=c[0],r=c[1],i=Object(n.useState)(!1),u=Object(j.a)(i,2),O=u[0],f=u[1],g=Object(n.useState)(),N=Object(j.a)(g,2),y=N[0],w=N[1],k=Object(Y.h)().username,C=Object(b.a)().t,L=Object(n.useState)(),E=Object(j.a)(L,2),A=E[0],D=E[1],P=Object(n.useState)({}),F=Object(j.a)(P,2),U=F[0],z=F[1],M=Object(n.useState)(!1),R=Object(j.a)(M,2),_=R[0],B=R[1],V=Object(v.b)(),K=Object(Y.g)(),W=s.username,G=s.displayName,J=s.image,Q=Object(n.useState)(!1),Z=Object(j.a)(Q,2),$=Z[0],ee=Z[1];Object(n.useEffect)((function(){r(e.user)}),[e.user]),Object(n.useEffect)((function(){ee(k===t)}),[k,t]),Object(n.useEffect)((function(){z((function(e){return Object(d.a)(Object(d.a)({},e),{},{displayName:void 0})}))}),[y]),Object(n.useEffect)((function(){z((function(e){return Object(d.a)(Object(d.a)({},e),{},{image:void 0})}))}),[A]),Object(n.useEffect)((function(){O?w(G):(w(void 0),D(void 0))}),[O,G]);var te=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A&&(t=A.split(",")[1]),a={displayName:y,image:t},e.prev=2,e.next=5,S(W,a);case 5:n=e.sent,f(!1),r(n.data),V(T(n.data)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),z(e.t0.response.data.validationErrors);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(W);case 2:B(!1),V(H()),K.push("/");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=x("put","/api/1.0/users/".concat(W)),ce=x("delete","/api/1.0/users/".concat(W),!0),se=U.displayName,re=U.image;return Object(p.jsxs)("div",{className:"card text-center",children:[Object(p.jsx)("div",{className:"card-header",children:Object(p.jsx)(q,{className:"rounded-circle shadow",width:"200",height:"200",image:J,tempimage:A,alt:"".concat(W," profile")})}),Object(p.jsxs)("div",{className:"card-body",children:[!O&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("h3",{children:[G," @ ",W]}),$&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("button",{className:"btn btn-success d-inline-flex",onClick:function(){return f(!0)},children:[Object(p.jsx)("i",{className:"material-icons",children:"edit"})," ",C("Edit")]}),Object(p.jsx)("div",{className:"pt-2",children:Object(p.jsxs)("button",{className:"btn btn-danger d-inline-flex",onClick:function(){return B(!0)},children:[Object(p.jsx)("i",{className:"material-icons",children:"directions_run"})," ",C("Delete My Account")]})})]})]}),O&&Object(p.jsxs)("div",{children:[Object(p.jsx)(m,{label:C("Change Display Name"),defaultValue:G,onChange:function(e){w(e.target.value)},error:se}),Object(p.jsx)(m,{type:"file",onChange:function(e){if(!(e.target.files.length<1)){var t=e.target.files[0],a=new FileReader;a.onloadend=function(){D(a.result)},a.readAsDataURL(t)}},error:re}),Object(p.jsxs)("div",{children:[Object(p.jsx)(h,{className:"btn btn-primary d-inline-flex",onClick:te,disabled:ne,pendingApiCall:ne,text:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("i",{className:"material-icons",children:"save"}),C("Save")]})}),Object(p.jsxs)("button",{className:"btn btn-light d-inline-flex ml-1",onClick:function(){return f(!1)},disabled:ne,children:[Object(p.jsx)("i",{className:"material-icons",children:"close"}),C("Cancel")]})]})]})]}),Object(p.jsx)(X,{visible:_,title:C("Delete My Account"),okButton:C("Delete My Account"),onClickCancel:function(){B(!1)},onClickOk:ae,pendingApiCall:ce,message:C("Are you sure to delete your account?")})]})},ie=function(){var e=Object(n.useState)({}),t=Object(j.a)(e,2),a=t[0],c=t[1],s=Object(Y.h)().username,r=Object(n.useState)(!1),i=Object(j.a)(r,2),u=i[0],d=i[1],m=Object(b.a)().t,h=x("get","/api/1.0/users/".concat(s),!0);return Object(n.useEffect)((function(){d(!1)}),[a]),Object(n.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(s);case 3:t=e.sent,c(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),d(!0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[s]),u?Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"alert alert-danger text-center",children:[Object(p.jsx)("div",{children:Object(p.jsx)("i",{className:"material-icons",style:{fontSize:"48px"},children:"error"})}),m("User Not Found")]})}):h||a.username!==s?Object(p.jsx)(Z,{}):Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col",children:Object(p.jsx)(re,{user:a})}),Object(p.jsx)("div",{className:"col",children:Object(p.jsx)($,{})})]})})},oe=a.p+"static/media/hoaxify.e76cb420.png",le=function(){var e=Object(b.a)().t,t=Object(v.c)((function(e){return{isLoggedIn:e.isLoggedIn,username:e.username,displayName:e.displayName,image:e.image}})),a=t.username,c=t.isLoggedIn,s=t.displayName,r=t.image,i=Object(n.useRef)(null),o=Object(n.useState)(!1),l=Object(j.a)(o,2),u=l[0],d=l[1];Object(n.useEffect)((function(){return document.addEventListener("click",m),function(){document.removeEventListener("click",m)}}),[c]);var m=function(e){null!==i.current&&i.current.contains(e.target)||d(!1)},h=Object(v.b)(),O=Object(p.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(p.jsx)("li",{children:Object(p.jsx)(G.b,{className:"nav-link",to:"/login",children:e("Login")})}),Object(p.jsx)("li",{children:Object(p.jsx)(G.b,{className:"nav-link",to:"/signup",children:e("Sign Up")})})]});if(c){var f="dropdown-menu p-0 shadow";u&&(f+=" show"),O=Object(p.jsx)("ul",{className:"navbar-nav ml-auto",ref:i,children:Object(p.jsxs)("li",{className:"nav-item dropdown",children:[Object(p.jsxs)("div",{className:"d-flex",style:{cursor:"pointer"},onClick:function(){return d(!0)},children:[Object(p.jsx)(q,{image:r,width:"32",height:"32",className:"rounded-circle m-auto"}),Object(p.jsx)("span",{className:"nav-link dropdown-toggle",children:s})]}),Object(p.jsxs)("div",{className:f,children:[Object(p.jsxs)(G.b,{className:"dropdown-item d-flex p-2",to:"/user/".concat(a),onClick:function(){return d(!1)},children:[Object(p.jsx)("i",{className:"material-icons text-info mr-2",children:"person"}),e("My Profile")]}),Object(p.jsxs)("span",{className:"dropdown-item d-flex p-2",onClick:function(){h(H())},style:{cursor:"pointer"},children:[Object(p.jsx)("i",{className:"material-icons text-danger mr-2",children:"power_settings_new"}),e("Logout")]})]})]})})}return Object(p.jsx)("div",{className:"shadow-sm bg-light mb-2",children:Object(p.jsxs)("nav",{className:"navbar navbar-light container navbar-expand",children:[Object(p.jsxs)(G.b,{className:"navbar-brand",to:"/",children:[Object(p.jsx)("img",{src:oe,alt:"Hoaxfy Logo",width:"60"}),"Hoaxify"]}),O]})})},ue=function(){var e=Object(v.c)((function(e){return{isLoggedIn:e.isLoggedIn}})).isLoggedIn;return Object(p.jsxs)("div",{children:[Object(p.jsxs)(G.a,{children:[Object(p.jsx)(le,{}),Object(p.jsxs)(Y.d,{children:[Object(p.jsx)(Y.b,{exact:!0,path:"/",component:se}),!e&&Object(p.jsx)(Y.b,{path:"/login",component:B}),Object(p.jsx)(Y.b,{path:"/signup",component:_}),Object(p.jsx)(Y.b,{path:"/user/:username",component:ie}),Object(p.jsx)(Y.a,{to:"/"})]})]}),Object(p.jsx)(V,{})]})},de=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,94)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))},je=a(34),be=a(24);je.a.use(be.e).init({resources:{en:{translations:{"Sign Up":"Sign Up",Username:"Username","Password mismatch":"Password mismatch","Display Name":"Display Name",Password:"Password","Password Repeat":"Password Repeat",Login:"Login",Logout:"Logout",Users:"Users",Next:"next >",Previous:"< previous","Load Failure":"Load Failure","Loading...":"Loading...","User Not Found":"User Not Found",Edit:"Edit",Save:"Save",Cancel:"Cancel","Change Display Name":"Change Display Name","My Profile":"My Profile","There are no hoaxes":"There are no hoaxes","Load old hoaxes":"Load old hoaxes","There are new hoaxes":"There are new hoaxes","Delete Hoax":"Delete Hoax","Are you sure to delete hoax?":"Are you sure to delete hoax?","Delete My Account":"Delete My Account","Are you sure to delete your account?":"Are you sure to delete your account?"}},tr:{translations:{"Sign Up":"Kay\u0131t Ol",Username:"Kullan\u0131c\u0131 Ad\u0131","Password mismatch":"Ayn\u0131 \u015fifreyi giriniz","Display Name":"Tercih edilen Ad",Password:"\u015eifre","Password Repeat":"\u015eifre Tekrar\u0131",Login:"Giri\u015f Yap",Logout:"\xc7\u0131k\u0131\u015f Yap",Users:"Kullan\u0131c\u0131lar",Next:"sonraki >",Previous:"< \xf6nceki","Load Failure":"Y\xfckleme ba\u015far\u0131s\u0131z","Loading...":"Y\xfckleniyor...","User Not Found":"Kullan\u0131c\u0131 Bulunamad\u0131",Edit:"D\xfczenle",Save:"Kaydet",Cancel:"\u0130ptal Et","Change Display Name":"G\xf6r\xfcn\xfcr \u0130sminizi De\u011fi\u015ftirin","My Profile":"Hesab\u0131m","There are no hoaxes":"Hoax bulunamad\u0131","Load old hoaxes":"Eski hoaxlar\u0131 getir","There are new hoaxes":"Yeni Hoaxlar var","Are you sure to delete hoax?":"Hoax'u silmek istedi\u011finizden emin misiniz?","Delete Hoax":"Hoax'u sil","Delete My Account":"Hesab\u0131m\u0131 Sil","Are you sure to delete your account?":"Hesab\u0131n\u0131z\u0131 silmek istedi\u011finizden emin misiniz?"}}},fallbackLng:"en",ns:["translations"],defaultNS:"translations",keySeparator:!1,interpolation:{escapeValue:!1,formatSeparator:","},react:{wait:!0}});Object(J.b)("tr",(function(e,t){return[["az \xf6nce","\u015fimdi"],["%s saniye \xf6nce","%s saniye i\xe7inde"],["1 dakika \xf6nce","1 dakika i\xe7inde"],["%s dakika \xf6nce","%s dakika i\xe7inde"],["1 saat \xf6nce","1 saat i\xe7inde"],["%s saat \xf6nce","%s saat i\xe7inde"],["1 g\xfcn \xf6nce","1 g\xfcn i\xe7inde"],["%s g\xfcn \xf6nce","%s g\xfcn i\xe7inde"],["1 hafta \xf6nce","1 hafta i\xe7inde"],["%s hafta \xf6nce","%s hafta i\xe7inde"],["1 ay \xf6nce","1 ay i\xe7inde"],["%s ay \xf6nce","%s ay i\xe7inde"],["1 y\u0131l \xf6nce","1 y\u0131l i\xe7inde"],["%s y\u0131l \xf6nce","%s y\u0131l i\xe7inde"]][t]}));je.a;var pe=a(29),me={isLoggedIn:!1,username:void 0,displayName:void 0,image:void 0,password:void 0},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(d.a)({},me),t=arguments.length>1?arguments[1]:void 0;return t.type===g?me:t.type===N?Object(d.a)(Object(d.a)({},t.payload),{},{isLoggedIn:!0}):t.type===y?Object(d.a)(Object(d.a)({},e),t.payload):e},Oe=a(49),fe=a.n(Oe),xe=a(50),ve=new fe.a,ge=function(){var e=ve.get("hoax-auth")||{isLoggedIn:!1,username:void 0,displayName:void 0,image:void 0,password:void 0};k(e);var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||pe.b,a=Object(pe.c)(he,e,t(Object(pe.a)(xe.a)));return a.subscribe((function(){var e;e=a.getState(),ve.set("hoax-auth",e),k(a.getState())})),a}();r.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(v.a,{store:ge,children:Object(p.jsx)(ue,{})})}),document.getElementById("root")),de()}},[[92,1,2]]]);
//# sourceMappingURL=main.3a66de87.chunk.js.map